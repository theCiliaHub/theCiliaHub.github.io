<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kaplan's Lab CiliaHub: A curated database of ciliary genes for researching ciliopathies and rare diseases.">
    <meta name="keywords" content="Kaplan's Lab, CiliaHub, ciliary genes, ciliopathies, bioinformatics, genomics, rare diseases">
    <meta name="author" content="Kaplan's Lab">
    <title>Kaplan's Lab</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="elegans2.png">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EKT3SLJ516"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-EKT3SLJ516');
    </script>
    <script>
        function showSection(sectionId, geneId) {
            console.log("Showing section: " + sectionId, geneId ? "Gene ID: " + geneId : "");
            document.querySelectorAll('.section').forEach(sec => sec.style.display = 'none');
            const section = document.getElementById(sectionId);
            if (section) {
                section.style.display = 'block';
                updateActiveNav(sectionId);
                updateBreadcrumbs(sectionId, geneId);
                console.log(sectionId + " section displayed");
                if (sectionId === 'gene-card' && geneId) {
                    window.dispatchEvent(new CustomEvent('showGeneCard', { detail: { geneId } }));
                    window.location.hash = `#home/${geneId}`;
                } else if (sectionId === 'home' && !geneId) {
                    window.location.hash = '#home';
                }
            } else {
                console.error("Section not found: " + sectionId);
            }
        }

        function updateActiveNav(sectionId) {
            document.querySelectorAll('.navbar a, .dropdown-content a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${sectionId}`) {
                    link.classList.add('active');
                }
            });
        }

        function updateBreadcrumbs(sectionId, geneId) {
            const breadcrumbs = document.getElementById('breadcrumbs');
            let path = ['<a href="#home" onclick="showSection(\'home\')">Home</a>'];
            if (sectionId !== 'home') {
                if (sectionId === 'gene-card' && geneId) {
                    path.push(`<a href="#home/${geneId}" onclick="showSection('gene-card', '${geneId}')">${geneId}</a>`);
                } else {
                    const sectionTitle = document.getElementById(sectionId).querySelector('h1').textContent;
                    path.push(sectionTitle);
                }
            }
            breadcrumbs.innerHTML = path.join(' > ');
        }

        document.addEventListener('DOMContentLoaded', () => {
            const hash = window.location.hash;
            if (hash.startsWith('#home/') && hash.length > 6) {
                const geneId = hash.substring(6);
                showSection('gene-card', geneId);
            } else if (hash === '#home') {
                showSection('home');
            }
        });
    </script>
</head>
<body onload="showSection('home')">
    <!-- Navbar -->
    <nav class="navbar">
        <a href="#home" onclick="showSection('home')">Home</a>
        <a href="#educational-resources" onclick="showSection('educational-resources')">Educational Resources</a>
        <a href="#blog-newsfeed" onclick="showSection('blog-newsfeed')">Blog/Newsfeed</a>
        <a href="#download" onclick="showSection('download')">Download</a>
        <a href="#cite" onclick="showSection('cite')">Cite</a>
        <a href="#contact" onclick="showSection('contact')">Contact</a>
    </nav>

    <!-- Breadcrumbs -->
    <div id="breadcrumbs"></div>

    <div class="container">
        <section id="home" class="section">
            <img src="CiliaHub_Logo.png" alt="CiliaHub Logo" class="w-full mx-auto mb-4" style="max-width: 100%; height: auto;">
            <h1 style="color: #203c78; text-align: justify; text-align-last: center;">CiliaHub: Ciliary Gene Database</h1>
            <p class="mb-4" style="text-align: justify;">
                <strong>CiliaHub</strong> is an updated and curated database of all experimentally confirmed ciliary genes â€” an evolution of the ciliary "Gold Standard" gene list. Through a combination of R-based text mining of the scientific literature and manual expert review, the database now includes over 2,002 genes, including <strong>1300+ newly associated ciliary genes</strong>.
                <br><br>
                This user-friendly platform allows researchers to:
                <ul style="margin-top: 10px; margin-bottom: 10px;">
                    <li>Explore curated gene entries with descriptions and known synonyms</li>
                    <li>Access references linked to each gene</li>
                    <li>Navigate to external databases via direct hyperlinks</li>
                    <li>Download the full gene list for further analysis</li>
                </ul>
                <strong>CiliaHub</strong> empowers both basic and clinical researchers in the fields of cell biology and genetics to explore the molecular basis of cilia-related functions and ciliopathies.
            </p>
            <div id="statistics-dashboard" class="stats-dashboard mb-5">
                <h3 style="color: #203c78; text-align: center; margin-bottom: 20px;">ðŸ“Š Cilia-Related Gene Statistics & Analysis</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="total-genes">0</div>
                        <div class="stat-label">Cilia-Related Genes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="unique-localizations">0</div>
                        <div class="stat-label">Cilia Localizations</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="with-omim">0</div>
                        <div class="stat-label">With OMIM Entries</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="with-references">0</div>
                        <div class="stat-label">With References</div>
                    </div>
                </div>
                <div class="chart-container">
                    <div class="chart-section">
                        <h4>Cilia-Related Gene Distribution by Localization</h4>
                        <canvas id="localizationChart" width="400" height="200"></canvas>
                    </div>
                    <div class="chart-section">
                        <h4>Database Growth Over Time</h4>
                        <canvas id="growthChart" width="400" height="200"></canvas>
                    </div>
                </div>
                <div style="margin-top: 15px; padding: 10px; background: #f0f8ff; border-radius: 5px; font-size: 0.9em; color: #666;">
                    <strong>Note:</strong> Statistics above reflect only genes with cilia-related localizations (cilia, transition zone, basal body, flagella, and cilia-associated genes). The total database contains additional genes that may have ciliary functions but different subcellular localizations.
                </div>
            </div>
            <details class="mb-4" style="background: #f5faff; border: 1px solid #cce0f5; padding: 15px; border-radius: 5px;">
                <summary style="font-weight: bold; cursor: pointer;">How to Use CiliaHub</summary>
                <div style="margin-top: 10px;">
                    <ul>
                        <li><strong>Search:</strong> Enter a gene name, Ensembl ID, OMIM ID, or synonym to find specific entries.</li>
                        <li><strong>Filter:</strong> Use the dropdown menu to display genes based on ciliary localization (e.g., Basal Body).</li>
                        <li><strong>Reset:</strong> Click <em>Reset</em> to clear search and filters, and reload all results.</li>
                        <li><strong>Download:</strong> Export the full gene list as a CSV file for offline analysis or custom sorting.</li>
                        <li><strong>External Links:</strong> Gene names, Ensembl IDs, OMIM IDs, and references are hyperlinked to authoritative databases.</li>
                        <li><strong>Batch Query:</strong> Paste multiple genes or IDs below and click "Batch Query" to retrieve all matching entries at once.</li>
                    </ul>
                </div>
            </details>
            <div class="ciliahub-controls mb-4 text-center">
                <div class="search-container" style="max-width: 100%;">
                    <input type="text" id="ciliahub-search" placeholder="Search by Gene, Ensembl ID, or Synonym..." aria-label="Search CiliaHub database" autocomplete="off" style="width: 100%; max-width: 600px; padding: 10px; margin-bottom: 10px;">
                    <div id="search-suggestions" class="search-suggestions"></div>
                </div>
                <div class="advanced-filters">
                    <select id="ciliahub-filter" aria-label="Filter by ciliary localization">
                        <option value="">All Localizations</option>
                        <option value="basal-body">Basal Body</option>
                        <option value="transition-zone">Transition Zone</option>
                        <option value="cilia">Cilia</option>
                        <option value="basal-body-cilia">Basal Body, Cilia</option>
                        <option value="cilia-basal-body">Cilia, Basal Body</option>
                        <option value="flagella-cilia">Flagella, Cilia</option>
                        <option value="cilia-basal-body-transition-zone">Cilia, Basal Body, Transition Zone</option>
                        <option value="flagella-cilia-basal-body">Flagella, Cilia, Basal Body</option>
                        <option value="ciliary-associated-gene">Ciliary Associated Gene</option>
                    </select>
                    <select id="omim-filter" aria-label="Filter by OMIM availability">
                        <option value="">All OMIM Status</option>
                        <option value="has-omim">Has OMIM ID</option>
                        <option value="no-omim">No OMIM ID</option>
                    </select>
                    <select id="reference-filter" aria-label="Filter by reference availability">
                        <option value="">All Reference Status</option>
                        <option value="has-reference">Has References</option>
                        <option value="no-reference">No References</option>
                    </select>
                    <input type="text" id="synonym-filter" placeholder="Filter by synonym..." aria-label="Filter by synonym">
                </div>
                <div class="control-buttons">
                    <button id="ciliahub-reset" aria-label="Reset search and filters">Reset All</button>
                    <button id="export-filtered" aria-label="Export filtered results as CSV">Export Filtered</button>
                </div>
            </div>
            <div id="results-counter" class="results-counter mb-3"></div>
            <div id="popularGenesWidget" style="max-width: 600px; margin: 20px auto; padding: 15px; border: 1px solid #cce0f5; background: #f0f8ff; border-radius: 6px; color: #203c78;">
                <h3 style="text-align:center; margin-top:0;">Popular Genes This Session</h3>
                <ul id="popularGenesList" style="list-style: none; padding-left: 10px;"></ul>
            </div>
            <div class="batch-query mb-5" style="max-width:600px; margin: 0 auto 30px; text-align: left;">
                <label for="batchGenes" style="font-weight:bold;">Batch Query: Enter gene names or IDs (comma, space, or newline separated):</label><br>
                <textarea id="batchGenes" rows="4" style="width: 100%; font-family: monospace;" placeholder="e.g. IFT88, BBS1, NPHP1" aria-label="Enter multiple gene names or IDs for batch query"></textarea><br>
                <button id="batchQueryBtn" style="margin-top: 8px; padding: 8px 16px; background-color:#203c78; color:white; border:none; border-radius:5px; cursor:pointer;" aria-label="Submit batch query">Batch Query</button>
            </div>
            <div id="batchResultsContainer" class="mb-5" style="max-width:900px; margin: 0 auto; display:none;">
                <h3 style="color: #203c78; text-align: center;">Batch Query Results</h3>
                <div id="batchResults"></div>
                <button id="clearBatchResults" style="margin-top:10px; padding: 6px 12px; background:#888; color:#fff; border:none; border-radius:4px; cursor:pointer;" aria-label="Clear batch query results">Clear Results</button>
            </div>
            <div class="table-wrapper mb-5">
                <div id="ciliahub-loading" style="text-align: center; padding: 20px;">Loading data...</div>
                <table class="ciliahub-table" style="display: none;">
                    <thead>
                        <tr>
                            <th style="width: 10%;">Gene</th>
                            <th style="width: 15%;">Ensembl ID</th>
                            <th style="width: 20%;">Gene Description</th>
                            <th style="width: 10%;">Synonym</th>
                            <th style="width: 10%;">OMIM ID</th>
                            <th style="width: 20%;">Reference</th>
                            <th style="width: 15%;">Ciliary Localization</th>
                        </tr>
                    </thead>
                    <tbody id="ciliahub-table-body"></tbody>
                </table>
            </div>
            <div class="citation-box mt-5 mb-4 p-3 rounded" style="background-color: #e6f2ff; border-left: 4px solid #004080;">
                <strong>Suggested citation:</strong> Yenisert F, Kaplan OI. <em>Expanded Catalog of Ciliary Genes: Integration of Novel Ciliary Genes into the Ciliome</em>. 2025. Available at:
                <a href="https://rarediseaselab.github.io/home/#home" target="_blank">CiliaHub</a>
            </div>
            <p class="mt-4 text-center">
                <a href="mailto:oktay.kaplan@agu.edu.tr?subject=CiliaHub Feedback" class="read-more-btn"
                   style="background-color: #203c78; color: white; padding: 8px 16px; border-radius: 5px; text-decoration: none;" aria-label="Submit feedback for CiliaHub">
                    Submit Feedback
                </a>
            </p>
        </section>

        <section id="gene-card" class="section">
            <div class="card">
                <div class="left-section">
                    <h2>Gene Name: ARL13B</h2>
                    <p><strong>Ensembl ID:</strong> <a href="https://www.ensembl.org/id/ENSG00000169379">ENSG00000169379</a></p>
                    <p><strong>Synonyms:</strong> ARL2L1, DKFZP761H079, JBTS8</p>
                    <p><strong>Description:</strong> ADP ribosylation factor like GTPase 13B [Source:HGNC Symbol;Acc:HGNC:25419]</p>
                    <p><strong>OMIM ID:</strong> <a href="https://omim.org/entry/608922">608922</a></p>
                </div>
                <div class="right-section">
                    <p><strong>Ciliary Localization:</strong> basal body</p>
                    <p><strong>References:</strong></p>
                    <div class="references">
                        <a href="https://pubmed.ncbi.nlm.nih.gov/18674751">https://pubmed.ncbi.nlm.nih.gov/18674751</a>
                        <a href="https://pubmed.ncbi.nlm.nih.gov/20231383">https://pubmed.ncbi.nlm.nih.gov/20231383</a>
                        <a href="https://pubmed.ncbi.nlm.nih.gov/20530210">https://pubmed.ncbi.nlm.nih.gov/20530210</a>
                        <a href="https://pubmed.ncbi.nlm.nih.gov/21976698">https://pubmed.ncbi.nlm.nih.gov/21976698</a>
                        <a href="https://pubmed.ncbi.nlm.nih.gov/23150559">https://pubmed.ncbi.nlm.nih.gov/23150559</a>
                        <a href="https://pubmed.ncbi.nlm.nih.gov/22554696">https://pubmed.ncbi.nlm.nih.gov/22554696</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="educational-resources" class="section" style="display: none;">
            <h1>Educational Resources</h1>
            <p>Explore tutorials, videos, and guides on ciliary biology and research techniques.</p>
            <!-- Content can be expanded here -->
        </section>

        <section id="blog-newsfeed" class="section" style="display: none;">
            <h1>Blog/Newsfeed</h1>
            <p>Stay updated with the latest breakthroughs in cilia research, upcoming conferences, and workshops.</p>
            <div class="research-grid">
                <div class="research-item">
                    <div class="research-text">
                        <h3>Breakthrough: New Cilia Protein Discovered</h3>
                        <p>Researchers have identified a novel protein critical to ciliary function, published on August 15, 2025.</p>
                    </div>
                </div>
                <div class="research-item">
                    <div class="research-text">
                        <h3>Conference: Cilia 2025</h3>
                        <p>Join us in Boston, September 10-12, 2025, for the latest in ciliary research.</p>
                    </div>
                </div>
                <div class="research-item">
                    <div class="research-text">
                        <h3>Workshop: Ciliary Imaging Techniques</h3>
                        <p>Online workshop scheduled for August 28, 2025, covering advanced imaging methods.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="download" class="section" style="display: none;">
            <h1>Download CiliaHub Data</h1>
            <p class="download-description">Access the latest CiliaHub dataset in your preferred format. Download includes over 2,002 genes with detailed annotations.</p>
            <div class="download-options">
                <button id="download-json" class="download-button">Download JSON</button>
                <button id="download-csv" class="download-button">Download CSV</button>
            </div>
            <div class="download-info">
                <p><strong>Last Updated:</strong> August 20, 2025, 07:15 PM +03</p>
                <p><strong>Total Genes:</strong> 2,002+</p>
                <p><strong>File Size Estimate:</strong> ~500 KB (varies by format)</p>
            </div>
        </section>

        <section id="cite" class="section" style="display: none;">
            <h1>Cite</h1>
            <p>Please cite CiliaHub as follows:</p>
            <p>Yenisert F, Kaplan OI. <em>Expanded Catalog of Ciliary Genes: Integration of Novel Ciliary Genes into the Ciliome</em>. 2025. Available at: <a href="https://rarediseaselab.github.io/home/#home">CiliaHub</a></p>
        </section>

        <section id="contact" class="section" style="display: none;">
            <h1>Contact</h1>
            <p>For inquiries or feedback about CiliaHub, please contact the Kaplan Lab.</p>
            <a href="mailto:info@rarediseaselab.org" class="read-more-btn">Email Us</a>
        </section>
    </div>

    <!-- Back to Top Button -->
    <button id="back-to-top" title="Back to Top" aria-label="Scroll back to top">â†‘</button>

    <footer>
        <p>Â© 2025 Kaplan's Lab</p>
        <div class="social-links">
            <a href="https://github.com/thekaplanlab" target="_blank"><img src="github-logo.png" alt="GitHub" class="social-icon"></a>
            <a href="https://www.instagram.com/kaplanlab/?hl=en" target="_blank"><img src="instagram-logo.png" alt="Instagram" class="social-icon"></a>
            <a href="https://www.linkedin.com/in/oktay-i-kaplan-74b16856/" target="_blank"><img src="linkedin-logo.png" alt="LinkedIn" class="social-icon"></a>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const backToTopBtn = document.getElementById('back-to-top');
            window.addEventListener('scroll', function() {
                if (window.scrollY > 300) {
                    backToTopBtn.style.display = 'block';
                } else {
                    backToTopBtn.style.display = 'none';
                }
            });

            backToTopBtn.addEventListener('click', function() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            const nightModeToggle = document.getElementById('night-mode-toggle');
            if (localStorage.getItem('nightMode') === 'enabled') {
                document.body.classList.add('night-mode');
            }
            nightModeToggle.addEventListener('click', function() {
                document.body.classList.toggle('night-mode');
                localStorage.setItem('nightMode', document.body.classList.contains('night-mode') ? 'enabled' : 'disabled');
            });

            document.getElementById('download-json').addEventListener('click', () => {
                const jsonData = JSON.stringify(data, null, 2);
                const blob = new Blob([jsonData], { type: 'application/json' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'ciliahub_data.json';
                a.click();
                window.URL.revokeObjectURL(url);
            });

            document.getElementById('download-csv').addEventListener('click', () => {
                const csv = [
                    ['Gene', 'Ensembl ID', 'Gene Description', 'Synonym', 'OMIM ID', 'Reference', 'Ciliary Localization'],
                    ...data.map(item => [
                        item.gene || '',
                        item.ensembl_id || '',
                        item.description || '',
                        item.synonym || '',
                        item.omim_id || '',
                        item.reference || '',
                        item.localization || ''
                    ])
                ].map(row => row.map(cell => `"${cell.replace(/"/g, '""')}"`).join(',')).join('\n');
                const blob = new Blob([csv], { type: 'text/csv' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'ciliahub_data.csv';
                a.click();
                window.URL.revokeObjectURL(url);
            });
        });
    </script>

    <!-- Night Mode Toggle -->
    <button id="night-mode-toggle" title="Toggle Night Mode" aria-label="Toggle night mode"></button>
</body>
</html>
