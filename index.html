<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The CiliaHub: A Database of Genes with Ciliary Functions</title>
    <meta name="description" content="The CiliaHub is a comprehensive bioinformatics database for genes with ciliary functions, providing resources for ciliopathy research, genome exploration, and gene search.">
    <meta name="keywords" content="cilia gene, ciliopathy, database, search, genome, bioinformatics, ciliary function, ciliary genes">
    <link rel="icon" type="image/png" href="CiliaHub_Logo_web.png">
    <link rel="stylesheet" href="styles.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@panzoom/panzoom@4.5.1/dist/panzoom.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX'); // ✨ Replace with your real Google Analytics ID
    </script>
</head>
<body>
    <nav class="navbar">
            </nav>

    <main class="main-container">
        <div class="content-area" id="content-area">
            
            <div id="home-page">
                            </div>

            <div id="analysis-page" style="display: none;">
                <h2>Gene Enrichment Analysis</h2>
                <div class="analysis-input">
                    <label for="analysis-genes-input">Enter Gene List (one per line or comma-separated):</label>
                    <textarea id="analysis-genes-input" rows="5" placeholder="e.g., BBS1, BBS2, ARL6"></textarea>
                </div>
                <div class="plot-type-selection">
                    <h3>Select Plot Type:</h3>
                    <label><input type="radio" name="plot-type" value="bubble" checked> Bubble Enrichment Plot</label>
                    <label><input type="radio" name="plot-type" value="matrix"> Matrix Plot</label>
                                        <label><input type="radio" name="plot-type" value="ciliome"> Ciliome Enrichment</label>
                </div>
                <div class="plot-settings">
                                </div>
                <button onclick="generateAnalysisPlots()">Generate Plot</button>
                <div id="analysis-status" style="display: none;"></div>
                <div id="plot-container" style="display: none;">
                    <div id="bubble-enrichment-container" style="display: flex; width: 100%; height: 500px;">
                        <canvas id="analysis-bubble-plot" style="flex-grow: 1;"></canvas>
                        <div id="legend-container" style="min-width: 150px; padding-left: 20px;"></div>
                    </div>
                    <div id="matrix-plot-container" style="display: none; width: 100%; height: 500px;">
                        <canvas id="analysis-matrix-plot"></canvas>
                    </div>
                                                            <div id="ciliome-plot-container" style="display: none; padding: 20px; text-align: center;"></div>
                </div>
                
                <div id="gene-table-container" style="display: none; width: 80%; margin: 40px auto 0;"></div>

                <div class="download-section">
                     <button id="download-plot-btn" onclick="downloadPlot()" style="display: none; margin-right: 10px;">Download Plot</button>
                     <select id="download-format">
                         <option value="png">PNG</option>
                         <option value="pdf">PDF</option>
                                              </select>
                </div>
            </div>
        </div>
        
        <aside class="cilia-panel">
                    </aside>
    </main>

    <footer class="footer">
        <p>&copy; 2025 CiliaHub. All rights reserved.</p>
    </footer>

    <script src="plots.js"></script>
    <script src="script.js"></script>
</body>
</html>
